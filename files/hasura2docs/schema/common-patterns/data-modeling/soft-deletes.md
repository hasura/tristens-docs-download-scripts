# Setting up Soft Deletes for Data

## Introduction​

For some projects you may require records to be "soft deleted", i.e. items should not actually be removed from the
database, but should be marked with a timestamp to indicate when they were deleted.

A common approach is to add a column such as `deleted_at` to the table which is a nullable timestamp. When there is a
timestamp value present, the record should be treated as deleted.

 **For example:** Let's imagine that we have a simple Todo application, our `todos` table would resemble the following:

Image: [ Todo table of a todo application ](https://hasura.io/docs/assets/images/soft-deletes-example-data-fbd8eef58395d30617d859c91cbf0dd0.png)

In this example we only have two todos, one has `deleted_at` with a timestamp value and the other contains a `null` value. The todo with the timestamp value in `deleted_at` represents a deleted todo and was deleted at the set timestamp.

Follow the below steps to set up soft deletes for the `todos` table:

## Step 1: Add a deleted_at column​

Add a column with the following definition to the `todos` table:

 `deleted_at, type: timestamp, nullable, default: null` 

## Step 2: Use update instead of delete mutations​

After the previous step, we have a `deleted_at` column whose value will be `null` by default unless set explicitly.

Now in our application logic, instead of `delete_todos` mutations, use `update_todos` mutations to set the `deleted_at` field to the current timestamp:

```
# Replace the delete mutations with this update mutation
mutation   {
   update_todos ( where :   {   name :   {   _eq :   "Stuff already done!"   }   } ,   _set :   {   deleted_at :   "now()"   } )   {
     returning   {
       id
       name
       deleted_at
     }
   }
}
```

## Step 3: Set up appropriate insert/update/delete permissions​

Now, we need to ensure that appropriate[ permissions ](https://hasura.io/docs/latest/auth/authorization/index/)are set to avoid actual deletes
from happening and allowing update of the `deleted_at` field.

Here are some typical rules we should set:

 **Delete permissions** - remove all access

Image: [ Delete permissions for role user ](data:image/png;base64,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)

 **Insert permissions** - remove access for inserting into `deleted_at` column

Image: [ Insert permissions for role user ](data:image/png;base64,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)

 **Update permissions** - allow access for updating `deleted_at` column

Image: [ Update permissions for role user ](data:image/png;base64,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)

## Step 4: Restrict access to soft-deleted records​

Now that we have set up the soft deleting pattern for records, we need to ensure that we restrict the "deleted" records
from being accessed.

We can achieve this by setting appropriate[ permissions ](https://hasura.io/docs/latest/auth/authorization/index/)for roles which have access to
the `todos` table.

For example, let's say that a role `user` can only access non-deleted todos, we need to add the following permission
rule to ensure this:

Image: [ Restrict access to soft-deleted records ](data:image/png;base64,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)

Now the role `user` can only access non-deleted `todos` :

### What did you think of this doc?

- [ Introduction ](https://hasura.io/docs/latest/schema/common-patterns/data-modeling/soft-deletes/#introduction)
- [ Step 1: Add a deleted_at column ](https://hasura.io/docs/latest/schema/common-patterns/data-modeling/soft-deletes/#step-1-add-a-deleted_at-column)
- [ Step 2: Use update instead of delete mutations ](https://hasura.io/docs/latest/schema/common-patterns/data-modeling/soft-deletes/#step-2-use-update-instead-of-delete-mutations)
- [ Step 3: Set up appropriate insert/update/delete permissions ](https://hasura.io/docs/latest/schema/common-patterns/data-modeling/soft-deletes/#step-3-set-up-appropriate-insertupdatedelete-permissions)
- [ Step 4: Restrict access to soft-deleted records ](https://hasura.io/docs/latest/schema/common-patterns/data-modeling/soft-deletes/#step-4-restrict-access-to-soft-deleted-records)


Image: [ Hasura Con ](https://res.cloudinary.com/dh8fp23nd/image/upload/v1686154570/hasura-con-2023/has-con-light-date_r2a2ud.png)

Image: [ arrow-icon ](https://res.cloudinary.com/dh8fp23nd/image/upload/v1683723549/main-web/chevron-right_ldbi7d.png)

### Start with GraphQL on Hasura for Free

- Build apps and APIs 10x faster
- Built-in authorization and caching
- 8x more performant than hand-rolled APIs


Image: [ Promo ](https://hasura.io/docs/assets/images/hasura-free-ff60e409244e0ea12b5a3045d1a9096b.png)